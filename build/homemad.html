<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Music App</title>
  <link rel="stylesheet" href="mad.css">
 
</head>
<body>
  <div class="container">
    <aside class="sidebar">
      <nav>
        <ul>
          <a href="moodsl.html"><li><span>üéµ</span> Home</li></a>
          <a href="search.html"><li><span>üîç</span> Search</li></a>
        <a href="library.html"><li><span>üìö</span> Library</li></a>
        </ul>
        <h4>PLAYLIST</h4>
        <ul>
          <a href="premiumP.html"><li><span>üåü</span> Premium</li></a>
         <a href="likesongs.html"><li><span>‚ù§Ô∏è</span> Liked Songs</li></a>
        </ul>
      </nav>
      <div class="mood-selected">
        <i class="fa-regular fa-face-meh">Angry üò†</i> 
      </div>
    </aside>

    <main class="content">
      <section class="grid">

        <div class="card">
          <img src="https://i.scdn.co/image/ab67616d0000b273c800e1a4a237cf8f085183c5" alt="Tore Up">
          <p class="title">Tore Up</p>
          <p class="artist">Don Toliver</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Don Toliver - TORE UP [Official Audio].mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

        <div class="card">
          <img src="https://i.scdn.co/image/ab67616d00001e026b219c8d8462bfe254a20469" alt="EVIL JORDAN">
          <p class="title">EVIL JORDAN</p>
          <p class="artist">Playboi Carti</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Playboi Carti - Evil Jordan (Lyrics).mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

        <div class="card">
          <img src="https://i.scdn.co/image/ab67616d0000b2731729574fe2a8e391a2ce1ece" alt="Like That">
          <p class="title">Like that</p>
          <p class="artist">Future, Metro Boomin, Kendrick Lamar</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Future, Metro Boomin - Like That (Official Audio).mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

         <div class="card">
          <img src="https://i1.sndcdn.com/artworks-lQQsO46K0u6L-0-t500x500.jpg" alt="Knife Talk">
          <p class="title">Knife Talk</p>
          <p class="artist">Drake</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Drake - Knife Talk (Lyrics) ft. 21 Savage & Project Pat.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

         <div class="card"> 
          <img src="https://i.scdn.co/image/ab67616d0000b273a91c10fe9472d9bd89802e5a" alt="Good 4 U">
          <p class="title">Good 4 U</p>
          <p class="artist">Olivia Rodrigo</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Olivia Rodrigo - good 4 u (Lyrics).mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

         <div class="card"> 
          <img src="https://i.scdn.co/image/ab67616d0000b2730c471c36970b9406233842a5" alt="Kill Bill">
          <p class="title">Kill Bill</p>
          <p class="artist">SZA </p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/@sza - Kill Bill (Lyrics).mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

        <div class="card"> 
          <img src="https://images.genius.com/c0464998daff0664b945c29305299a93.1000x1000x1.jpg" alt="Meltdown">
          <p class="title">Meltdown</p>
          <p class="artist">Travis Scott, Drake </p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Travis Scott - Meltdown (Lyrics).mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>


        <div class="card">
          <img src="https://i.scdn.co/image/ab67616d0000b273cdba7ee22968991250725ce1" alt="Drowning">
          <p class="title">Drowning</p>
          <p class="artist">A Boogie Wit Da Hoodie </p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/A Boogie Wit Da Hoodie - Drowning (Lyrics) Pick up the ladder put it in the gun.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

        <div class="card"> 
          <img src="https://i.scdn.co/image/ab67616d0000b273a91c10fe9472d9bd89802e5a" alt="Brutal">
          <p class="title">Brutal</p>
          <p class="artist">Olivia Rodrigo</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/brutal.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>


        <div class="card">    
          <img src="https://i1.sndcdn.com/artworks-I8NmPoGPEcB6-0-t500x500.jpg" alt="Euphoria">
          <p class="title">Euphoria</p>
          <p class="artist">Kendrick Lamar</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Kendrick Lamar - Euphoria (Lyrics) (Drake Diss).mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>


        <div class="card">    
          <img src="https://upload.wikimedia.org/wikipedia/en/a/ae/Tlc-noscubs2.jpg" alt="No Scrubs">
          <p class="title">No Scrubs</p>
          <p class="artist">TLC</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/No Scrubs.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

        <div class="card">    
          <img src="https://i1.sndcdn.com/artworks-cKz5rryY6bZv-0-t500x500.jpg" alt="LAKAS">
          <p class="title">LAKAS</p>
          <p class="artist">Coln ft. Dale Jairus</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/LAKAS - Coln Ft. Dale Jairus.mp3"type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

        <div class="card">    
          <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRQ2AQv9n7EAq1kyMKaiUwlf2lyFvo6FK77bw&s" alt="Superhero">
          <p class="title">Superhero</p>
          <p class="artist">Metro Boomin, Future, Chris Brown</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Metro Boomin, Future, Chris Brown - Superhero (Lyrics).mp3"type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

         <div class="card">    
          <img src="https://i1.sndcdn.com/artworks-SCVLH9Fr8F9iRWlQ-IK4GaQ-t500x500.jpg" alt="Annihilate">
          <p class="title">Annihilate</p>
          <p class="artist">Metro Boomin, Swae Lee</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Metro Boomin, Swae Lee - Annihilate (AUDIO).mp3"type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>
  

      </section>
    </main>
  </div>

 <footer class="player">
  <div class="now-playing">
    <img id="nowPlayingImage" src="https://via.placeholder.com/50/1E3A5F/FFFFFF?text=üéµ" alt="Cover">
    <div>
      <p class="title" id="nowPlayingTitle">Title</p>
      <p class="artist" id="nowPlayingArtist">Artist</p>
    </div>
  </div>
  <div class="controls">
    <button id="backBtn">‚èÆÔ∏è</button>
    <button id="pausePlayBtn">‚è∏Ô∏è</button>
    <button id="forwardBtn">‚è≠Ô∏è</button>
  </div>

  <div id="moodModal" class="modal">
    <div class="modal-content">
    <p id="moodModalText">How do you feel after listening to this song?</p>
      <div class="mood-options">
        <button onclick="submitMood('üòä Happy')">üòä Happy</button>
        <button onclick="submitMood('üò¢ Sad')">üò¢ Sad</button>
        <button onclick="submitMood('üòê Neutral')">üòê Neutral</button>
      </div>
    </div>
  </div>
</footer>


<script>
const allAudios = document.querySelectorAll("audio");
const nowPlayingTitle = document.getElementById("nowPlayingTitle");
const nowPlayingArtist = document.getElementById("nowPlayingArtist");
const nowPlayingImage = document.getElementById("nowPlayingImage");
const pausePlayBtn = document.getElementById("pausePlayBtn");
const backBtn = document.getElementById("backBtn");
const forwardBtn = document.getElementById("forwardBtn");
const moodModal = document.getElementById("moodModal");
const moodModalText = moodModal.querySelector("p");

let currentAudio = null;
let currentIndex = -1;
let songsPlayedCount = 0;

function updateNowPlaying(audio) {
  const card = audio.closest(".card");
  nowPlayingTitle.textContent = card.querySelector(".title").textContent;
  nowPlayingArtist.textContent = card.querySelector(".artist").textContent;
  nowPlayingImage.src = card.querySelector("img").src;
  pausePlayBtn.textContent = "‚è∏Ô∏è";
}

function showMoodModal(count) {
  moodModalText.textContent = `How do you feel after listening to ${count} songs?`;
  moodModal.style.display = "flex";
}

function submitMood(mood) {
  alert("You selected: " + mood);
  moodModal.style.display = "none";
}

document.querySelectorAll(".card").forEach((card, index) => {
  card.addEventListener("click", () => {
    if (currentAudio) {
      currentAudio.pause();
      currentAudio.currentTime = 0;
    }
    currentAudio = allAudios[index];
    currentIndex = index;
    currentAudio.play();
    updateNowPlaying(currentAudio);
  });
});

allAudios.forEach((audio, index) => {
  audio.addEventListener("play", () => {
    allAudios.forEach((a) => {
      if (a !== audio) a.pause();
    });
    currentAudio = audio;
    currentIndex = index;
    updateNowPlaying(audio);
  });

  audio.addEventListener("pause", () => {
    if (currentAudio === audio) {
      pausePlayBtn.textContent = "‚ñ∂Ô∏è";
    }
  });

  audio.addEventListener("ended", () => {
    songsPlayedCount++;
    if ([5, 10, 15, 20].includes(songsPlayedCount)) {
      showMoodModal(songsPlayedCount);
      return;
    }

   
    if (currentIndex < allAudios.length - 1) {
      currentIndex++;
    } else {
      currentIndex = 0;
    }
    if (currentAudio) currentAudio.pause();
    currentAudio = allAudios[currentIndex];
    currentAudio.currentTime = 0;
    currentAudio.play();
    updateNowPlaying(currentAudio);
  });
});

pausePlayBtn.addEventListener("click", () => {
  if (!currentAudio) return;
  if (currentAudio.paused) {
    currentAudio.play();
  } else {
    currentAudio.pause();
  }
});

backBtn.addEventListener("click", () => {
  if (currentIndex > 0) {
    if (currentAudio) currentAudio.pause();
    currentIndex--;
  } else {
    currentIndex = allAudios.length - 1;
  }
  currentAudio = allAudios[currentIndex];
  currentAudio.currentTime = 0;
  currentAudio.play();
  updateNowPlaying(currentAudio);
});

forwardBtn.addEventListener("click", () => {
  if (currentIndex === -1 && allAudios.length > 0) {
    currentIndex = 0;
  } else if (currentIndex < allAudios.length - 1) {
    currentIndex++;
  } else {
    currentIndex = 0;
  }
  if (currentAudio) currentAudio.pause();
  currentAudio = allAudios[currentIndex];
  currentAudio.currentTime = 0;
  currentAudio.play();
  updateNowPlaying(currentAudio);
});
</script>
</body>
</html>
