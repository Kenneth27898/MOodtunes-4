<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Music App</title>
  <link rel="stylesheet" href="stylehome.css">
 
</head>
<body>
  <div class="container">
    <aside class="sidebar">
      <nav>
        <ul>
          <a href="moodsl.html"><li><span>üéµ</span> Home</li></a>
         <a href="search.html"><li><span>üîç</span> Search</li></a>
        <a href="library.html"><li><span>üìö</span> Library</li></a>
        </ul>
        <h4>PLAYLIST</h4>
        <ul>
          <a href="premiumP.html"><li><span>üåü</span> Premium</li></a>
         <a href="likesongs.html"><li><span>‚ù§Ô∏è</span> Liked Songs</li></a>
        </ul>
      </nav>
      <div class="mood-selected">
       <span>üòä</span> Happy
      </div>
    </aside>

    <main class="content">
      <section class="grid">

        <div class="card">
          <img src="https://upload.wikimedia.org/wikipedia/en/2/23/Pharrell_Williams_-_Happy.jpg" alt="Happy">
          <p class="title">Happy</p>
          <p class="artist">Pharrell Williams</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Pharrell Williams - Happy (Video).mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

        <div class="card">
          <img src="https://upload.wikimedia.org/wikipedia/en/f/fc/Hero_Mariah_Carey.png" alt="Hero">
          <p class="title">Hero</p>
          <p class="artist">Mariah Carey</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Mariah Carey - Hero (Official Lyric Video).mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

        <div class="card">
          <img src="https://i.scdn.co/image/ab67616d00001e02e81fd3b9a7230db447f38182" alt="Every Summertime">
          <p class="title">Every Summertime</p>
          <p class="artist">NIKI</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/NIKI - Every Summertime (Lyrics) Every year we get older.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

         <div class="card">
          <img src="https://i1.sndcdn.com/artworks-bqlJVLTQoCm14ZvF-z4F2Cw-t500x500.jpg" alt="Espresso">
          <p class="title">Espresso</p>
          <p class="artist">Sabrina Carpenter</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Sabrina Carpenter - Espresso.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

         <div class="card"> 
          <img src="https://upload.wikimedia.org/wikipedia/en/d/d1/Maroon_5_Sugar_cover.png" alt="Sugar">
          <p class="title">Sugar</p>
          <p class="artist">Maroon 5</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Maroon 5 - Sugar (Lyrics).mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

         <div class="card"> 
          <img src="https://images.genius.com/c2d56ccb754f27e946deb7b06fcf17f7.1000x1000x1.png" alt="feels">
          <p class="title">Feels</p>
          <p class="artist">Calvin Harris ft. Pharrell Williams, Katy Perry, Big Sean </p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Calvin Harris - Feels ft. Pharrell Williams, Katy Perry, Big Sean.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

        <div class="card"> 
          <img src="https://i.scdn.co/image/ab67616d0000b273a6cb8fab778e1efc406a5909" alt="Bye Bye Bye">
          <p class="title">Bye Bye Bye</p>
          <p class="artist">Nsync </p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/NSYNC - Bye Bye Bye (Lyrics) (Deadpool 3 Soundtrack).mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>


        <div class="card">
          <img src="https://i.scdn.co/image/ab67616d0000b2733813da6b90e2db9f17b945ad" alt="IFG">
          <p class="title">I Feel Good</p>
          <p class="artist">BINI </p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/I Feel Good - BINI (Lyrics).mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

        <div class="card"> 
          <img src="https://upload.wikimedia.org/wikipedia/en/c/c8/Luis_Fonsi_Feat._Daddy_Yankee_-_Despacito_%28Official_Single_Cover%29.png" alt="Despacito">
          <p class="title">Despacito</p>
          <p class="artist">Justin Bieber ft. Luis Fonsi & Daddy Yankee</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Justin Bieber - Despacito (Lyrics  Letra) ft. Luis Fonsi & Daddy Yankee.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>


        <div class="card">    
          <img src="https://i.scdn.co/image/ab67616d0000b2736c20c4638a558132ba95bc39" alt="Beauty and a Beat">
          <p class="title">Beauty and a Beat</p>
          <p class="artist">Justin Bieber, Nicki Minaj</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Justin Bieber, Nicki Minaj  Beauty And A Beat (Lyrics).mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>


        <div class="card">    
          <img src="https://upload.wikimedia.org/wikipedia/en/7/71/Last_Friday_Night_cover.png" alt="Last_Friday_Night_cover">
          <p class="title">Last Friday Night</p>
          <p class="artist">Katy Perry</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Katy Perry - Last Friday Night (T.G.I.F) (Lyrics).mp3" type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

        <div class="card">    
          <img src="https://upload.wikimedia.org/wikipedia/en/6/61/Tyla_-_Water.png" alt="water">
          <p class="title">Water</p>
          <p class="artist">Tyla</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Tyla - Water.mp3"type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

        <div class="card">    
          <img src="https://i1.sndcdn.com/artworks-oEOoC3ZfsSWD-0-t500x500.jpg" alt="Im the One">
          <p class="title">Im the One</p>
          <p class="artist">Dj Khaled  ft. Justin Bieber, Chance the Rapper, Lil Wayne</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/DJ Khaled - I'm the One ft. Justin Bieber, Chance the Rapper, Lil Wayne (Lyrics  Lyric Video).mp3"type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

          <div class="card">
          <img src="https://upload.wikimedia.org/wikipedia/en/2/21/Justin_Timberlake_-_Can%27t_Stop_the_Feeling.png" alt="I Can't Stop the Feeling">
          <p class="title">Can't Stop the Feeling</p>
          <p class="artist">Justin Timberlake</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Justin Timberlake - CAN'T STOP THE FEELING! (Lyrics).mp3"type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>


          <div class="card">    
          <img src="https://i1.sndcdn.com/artworks-wbyC51CHvXKSc0OG-y0yoRQ-t1080x1080.jpg" alt="I want it that way">
          <p class="title">I want it that way</p>
          <p class="artist">Backstreet Boys</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Backstreet Boys - I Want It That Way (Lyrics).mp3"type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

          <div class="card">   
          <img src="https://i.scdn.co/image/ab67616d0000b273b337e1ca6629a53c66a3b0d4" alt="Unwritten">
          <p class="title">Unwritten</p>
          <p class="artist">Natasha Bedingfield</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Natasha Bedingfield - Unwritten (Lyrics).mp3"type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

        <div class="card">   
          <img src="https://i.scdn.co/image/ab67616d0000b273365b3fb800c19f7ff72602da" alt="My Boo">
          <p class="title">My Boo</p>
          <p class="artist">Usher</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/Usher - My Boo (Lyrics) ft. Alicia Keys.mp3"type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

        <div class="card">  
          <img src="https://i1.sndcdn.com/artworks-000040814493-eu3kr3-t1080x1080.jpg" alt="Counting Stars">
          <p class="title">Counting Stars</p>
          <p class="artist">One Reputblic</p>
          <audio controls>
            <source src="SONGS FOR Happy and Mad/OneRepublic - Counting Stars.mp3"type="audio/mpeg">
            Your browser does not support the audio element.
          </audio>
        </div>

      </section>
    </main>
  </div>

  <footer class="player">
  <div class="now-playing">
    <img id="nowPlayingImage" src="https://via.placeholder.com/50/1E3A5F/FFFFFF?text=üéµ" alt="Cover">
    <div>
      <p class="title" id="nowPlayingTitle">Title</p>
      <p class="artist" id="nowPlayingArtist">Artist</p>
    </div>
  </div>
  <div class="controls">
    <button id="backBtn">‚èÆÔ∏è</button>
    <button id="pausePlayBtn">‚è∏Ô∏è</button>
    <button id="forwardBtn">‚è≠Ô∏è</button>
  </div>

  <div id="moodModal" class="modal">
    <div class="modal-content">
    <p id="moodModalText">How do you feel after listening to this song?</p>
      <div class="mood-options">
        <button onclick="submitMood('üòä Happy')">üòä Happy</button>
        <button onclick="submitMood('üò¢ Sad')">üò¢ Sad</button>
        <button onclick="submitMood('üòê Neutral')">üòê Neutral</button>
      </div>
    </div>
  </div>
</footer>


<script>
const allAudios = document.querySelectorAll("audio");
const nowPlayingTitle = document.getElementById("nowPlayingTitle");
const nowPlayingArtist = document.getElementById("nowPlayingArtist");
const nowPlayingImage = document.getElementById("nowPlayingImage");
const pausePlayBtn = document.getElementById("pausePlayBtn");
const backBtn = document.getElementById("backBtn");
const forwardBtn = document.getElementById("forwardBtn");
const moodModal = document.getElementById("moodModal");
const moodModalText = moodModal.querySelector("p");

let currentAudio = null;
let currentIndex = -1;
let songsPlayedCount = 0;

function updateNowPlaying(audio) {
  const card = audio.closest(".card");
  nowPlayingTitle.textContent = card.querySelector(".title").textContent;
  nowPlayingArtist.textContent = card.querySelector(".artist").textContent;
  nowPlayingImage.src = card.querySelector("img").src;
  pausePlayBtn.textContent = "‚è∏Ô∏è";
}

function showMoodModal(count) {
  moodModalText.textContent = `How do you feel after listening to ${count} songs?`;
  moodModal.style.display = "flex";
}

function submitMood(mood) {
  alert("You selected: " + mood);
  moodModal.style.display = "none";
}

document.querySelectorAll(".card").forEach((card, index) => {
  card.addEventListener("click", () => {
    if (currentAudio) {
      currentAudio.pause();
      currentAudio.currentTime = 0;
    }
    currentAudio = allAudios[index];
    currentIndex = index;
    currentAudio.play();
    updateNowPlaying(currentAudio);
  });
});

allAudios.forEach((audio, index) => {
  audio.addEventListener("play", () => {
    allAudios.forEach((a) => {
      if (a !== audio) a.pause();
    });
    currentAudio = audio;
    currentIndex = index;
    updateNowPlaying(audio);
  });

  audio.addEventListener("pause", () => {
    if (currentAudio === audio) {
      pausePlayBtn.textContent = "‚ñ∂Ô∏è";
    }
  });

  audio.addEventListener("ended", () => {
    songsPlayedCount++;
    if ([5, 10, 15, 20].includes(songsPlayedCount)) {
      showMoodModal(songsPlayedCount);
      return;
    }

   
    if (currentIndex < allAudios.length - 1) {
      currentIndex++;
    } else {
      currentIndex = 0;
    }
    if (currentAudio) currentAudio.pause();
    currentAudio = allAudios[currentIndex];
    currentAudio.currentTime = 0;
    currentAudio.play();
    updateNowPlaying(currentAudio);
  });
});

pausePlayBtn.addEventListener("click", () => {
  if (!currentAudio) return;
  if (currentAudio.paused) {
    currentAudio.play();
  } else {
    currentAudio.pause();
  }
});

backBtn.addEventListener("click", () => {
  if (currentIndex > 0) {
    if (currentAudio) currentAudio.pause();
    currentIndex--;
  } else {
    currentIndex = allAudios.length - 1;
  }
  currentAudio = allAudios[currentIndex];
  currentAudio.currentTime = 0;
  currentAudio.play();
  updateNowPlaying(currentAudio);
});

forwardBtn.addEventListener("click", () => {
  if (currentIndex === -1 && allAudios.length > 0) {
    currentIndex = 0;
  } else if (currentIndex < allAudios.length - 1) {
    currentIndex++;
  } else {
    currentIndex = 0;
  }
  if (currentAudio) currentAudio.pause();
  currentAudio = allAudios[currentIndex];
  currentAudio.currentTime = 0;
  currentAudio.play();
  updateNowPlaying(currentAudio);
});
</script>
</body>
</html>